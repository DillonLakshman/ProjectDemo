{"EDITOR_STATE":{"allProjectFiles":{"c47e7775-7b7d-4f6e-b538-4ed95fc7526a":{"id":"c47e7775-7b7d-4f6e-b538-4ed95fc7526a","parent":null,"name":"ProjectDemo","type":"DIRECTORY","isDirectory":true,"children":["bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43"],"isRemovable":false,"filePath":"ProjectDemo"},"bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43":{"id":"bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43","parent":"c47e7775-7b7d-4f6e-b538-4ed95fc7526a","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"ProjectDemo/lambda.js","code":"let Swagger = require('swagger-client');\nlet fs = require('fs');\nlet request = require(\"request\");\n\n\nexports.handler = function (event, context, callback) {   \n   \n\n    if (event.method == \"TOKEN\") {\n        Swagger.http({\n            url: `https://services.apixplatform.com/api-sandbox/application/token`,\n            method: 'post',\n            query: {},\n            headers: { \"Accept\": \"*/*\", \"Content-Type\": \"application/json\" },\n            body: '{\"password\":\"1qaz2wsx@\",\"userName\":\"rwijetilleke@virtusa.com\"}'\n        }).then((response) => {\n            callback(null, response.body);\n        }).catch((err) => {\n            console.log(err)\n        });\n\n    }\n\n    if (event.method == \"getBanks\") {\n        Swagger.http({\n            url: `https://api.mufg-apifirst.xlabs.one/bankapi/bank?size=10&page=0`,\n            method: 'get',\n            headers: { \"Authorization\": \"bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6ImhzYmMtYXNwc3AtZWMifQ.eyJpc3MiOiJodHRwczovL2FwaS5tdWZnLWFwaWZpcnN0LnhsYWJzLm9uZS9hcy90b2tlbi5vYXV0aDIiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6ImZpbnRlY2giLCJhdWQiOiIyNHMyZGIzN2hkcnYycXI1ZG5vdTNyamxlNiIsInN1YiI6InVXVWlXeFYzeWkiLCJqdGkiOiI1ODdmOGIxMTUyYjRhMmJmIiwiaWF0IjoxNTQ3NzA4NDIwLCJleHAiOjE1NDgwNjg0MjB9.1sncgDxcH1RpJUYiC3rLwlgapJ1HGxZp6Q166ZI6hAbbk3xErDyTHQiryfuTXwqxA3WS2FEs71r_rLUbDN7dXA\", \"Accept\": \"application/json\" },\n        }).then((response) => {\n            callback(null, response.body);\n        }).catch((err) => {\n            console.log(err)\n        });\n\n    }\n\n    if (event.method == \"createAccount\") {\n        Swagger.http({\n            url: `https://api.mufg-apifirst.xlabs.one/accountapi/account`,\n            method: 'post',\n            query: {},\n            headers: { \n                authorization: 'bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6ImhzYmMtYXNwc3AtZWMifQ.eyJpc3MiOiJodHRwczovL2FwaS5tdWZnLWFwaWZpcnN0LnhsYWJzLm9uZS9hcy90b2tlbi5vYXV0aDIiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6ImZpbnRlY2giLCJhdWQiOiI0djVmaGlybnVoanZyc2hxb2dub252ZmRqIiwic3ViIjoieWdGWlhqVEdMQSIsImp0aSI6IjQ4YjRlZjYxYWRiN2M5YmYiLCJpYXQiOjE1NDc3MDg1NzIsImV4cCI6MTU0ODA2ODU3Mn0.5bINlfPvHIiRNpUTS-2TfENpNVBY6G2kAOn9PpbqCW9NLDBrkN0HBQef8NBjM0b0W8jVqjb4wttIk0ynZGJ5KA',\n                accept: 'application/json',\n                'content-type': 'application/json' \n            },\n\n            body: JSON.stringify(event.account)\n        }).then((response) => {\n            console.log(Response.body)\n            callback(null, response.body);\n        }).catch((err) => {\n            console.log(err)\n        });\n    }\n\n}","triggers":[{"resourceName":"apigeuCentral1projectdemodemopost","config":{}},{"resourceName":"apigeuCentral1projectdemodemoget","config":{}}],"config":{"runtime":"nodejs8.10","timeout":60,"memory":128},"testCases":{"c456b88b-afdb-4a25-b1fd-6df63d299d76":{"id":"c456b88b-afdb-4a25-b1fd-6df63d299d76","name":"event","functionId":"bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43","event":"{ \n    \"method\": \"createAccount\", \n    \"account\": {\n    \"accountClosingDate\": \"2019-12-17T07:02:46.394Z\",\n    \"accountCurrency\": \"GBP\",\n    \"accountIdentification\": \"10037610000949\",\n    \"accountName\": \"Dillon\",\n    \"accountOpeningDate\": \"2019-01-17T07:02:46.394Z\",\n    \"accountRefNumber\": \"XXXX\",\n    \"accountTypeId\": 1029,\n    \"balance\": 30000,\n    \"bankId\": 1001,\n    \"branchId\": 10000268,\n    \"cardFacility\": \"N\",\n    \"chequeBookFacility\": \"Y\",\n    \"creditDebitIndicator\": \"Credit\",\n    \"creditLineAmount\": 0,\n    \"creditLineIncluded\": \"Y\",\n    \"creditLineType\": \"Pre_Agreed\",\n    \"frozen\": \"N\",\n    \"isJointAccount\": \"N\",\n    \"isOnlineAccessEnabled\": \"Y\",\n    \"makerDate\": \"2019-01-17T07:02:46.394Z\",\n    \"makerId\": \"1\",\n    \"nickName\": \"Dil\",\n    \"noCredit\": \"Y\",\n    \"noDebit\": \"Y\",\n    \"passBookFacility\": \"Y\",\n    \"productId\": 1001,\n    \"schemeName\": \"SortCodeAccountNumber\",\n    \"secondaryIdentification\": \"A6R99Z\",\n    \"status\": \"ACTIVE\",\n    \"typeOfBalance\": \"ClosingAvailable\"\n  } \n}"}}}},"deletedFiles":[],"rootNode":"c47e7775-7b7d-4f6e-b538-4ed95fc7526a","openFiles":["bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43"],"currentFileId":"bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43","resources":{"apigeuCentral1projectdemodemoget":{"name":"apigeuCentral1projectdemodemoget","type":"API_GATEWAY","config":{"selectedRegion":"eu-central-1","apiMode":0,"apiName":"projectdemo","endpointType":"REGIONAL","resourceMode":0,"resourceName":"demo","resourcePath":"/demo","restMethod":"GET","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"Prod"},"globallyEditable":false},"apigeuCentral1projectdemodemopost":{"name":"apigeuCentral1projectdemodemopost","type":"API_GATEWAY","config":{"selectedRegion":"eu-central-1","apiMode":0,"apiName":"projectdemo","endpointType":"REGIONAL","resourceMode":0,"resourceName":"demo","resourcePath":"/demo","restMethod":"POST","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"Prod"},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{"swagger-client":{"name":"swagger-client","version":"3.8.21","notRemovable":false},"fs":{"name":"fs","version":"0.0.1-security"},"request":{"name":"request","version":"2.88.0"}}},"lambdaId":"bc6bebf7-eaf1-4591-a6cf-5ed0e122fc43"},"PROJECT_META":{"projectName":"ProjectDemo","projectDescription":"Demo","projectVersion":"1.0.0","projectRegion":"eu-central-1","platform":"AWS","lastSave":1547721647322},"VCS_STATE":{"provider":"GitHub","repo":{"name":"ProjectDemo","url":"https://github.com/DillonLakshman/ProjectDemo"}}}